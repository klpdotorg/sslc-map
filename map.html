<!DOCTYPE html>
<html>
<head>
	  <meta charset='utf-8'/>
 <!--[if lte IE 8]>
     <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" />
 <![endif]-->
  <script src='wax/ext/leaflet.js' type='text/javascript'></script>
  <script src='wax/dist/wax.leaf.js' type='text/javascript'></script>
  <link href='wax/ext/leaflet.css' rel='stylesheet' type='text/css' />  
  <link href='wax/theme/controls.css' rel='stylesheet' type='text/css' />

  
<script src="sslc.js" type="text/javascript"></script>
</head>
<div id="map" style="height:800px"></div>
<script>

// var map = new L.Map('map');
var cloudmadeUrl = 'http://{s}.mqcdn.com/tiles/1.0.0/osm/{z}/{x}/{y}.png',
        subDomains = ['otile1','otile2','otile3','otile4'],
        cloudmadeAttrib = '<a href="http://open.mapquest.co.uk" target="_blank">MapQuest</a>, <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> and contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/" target="_blank">CC-BY-SA</a>';
var cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18, attribution: cloudmadeAttrib, subdomains: subDomains});
var tilejson = {
  tilejson: '1.0.0',
  scheme: 'xyz',
  tiles: ['http://tiles.klp.org.in/maps/sslc/{z}/{x}/{y}.png'],
  grids: ['http://tiles.klp.org.in/maps/sslc/{z}/{x}/{y}.grid.json'],
  formatter: function(options, data) {
  	pass_perc = (data['Total Pass']/data['Total Appe'])*100; 
  	return "<b class='district'>"+data['DISTSHP']+"</b>"+"<p class='percentage'>"+Math.round(pass_perc)+"%"+"<hr><p>Girls: "+data['Girls Pass']+" | Boys: "+data['Boys Passe']+"</p>" }
};
  var map = new L.Map('map')
    .addLayer(cloudmade)
    .addLayer(new wax.leaf.connector(tilejson))
    .setView(new L.LatLng(13, 77), 7);
  wax.leaf.interaction()
    .map(map)
    .tilejson(tilejson)
    .on(wax.tooltip().animate(true).parent(map._container).events());
</script>
</body>
</html>